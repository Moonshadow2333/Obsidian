---
annotation-target: 数据库系统教程课件.pdf
---


>%%
>```annotation-json
>{"created":"2024-08-01T15:11:36.927Z","text":"用于演示的表的例子","updated":"2024-08-01T15:11:36.927Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":36877,"end":36966},{"type":"TextQuoteSelector","exact":"We will use these instances of the Sailors, Reserves and Boats relations in our examples.","prefix":"izhen Example InstancesR1S1 S2 ","suffix":"sid bid day22 101 10/10/9658 103"}]}]}
>```
>%%
>*%%PREFIX%%izhen Example InstancesR1S1 S2%%HIGHLIGHT%% ==We will use these instances of the Sailors, Reserves and Boats relations in our examples.== %%POSTFIX%%sid bid day22 101 10/10/9658 103*
>%%LINK%%[[#^27ohvyooz5l|show annotation]]
>%%COMMENT%%
>用于演示的表的例子
>%%TAGS%%
>
^27ohvyooz5l


>%%
>```annotation-json
>{"created":"2024-08-01T15:17:33.177Z","text":"关系代数\n\n- 选择操作σ\n- 投影操作π\n- 集合操作-\n- 连接操作∪\n- 笛卡尔积X","updated":"2024-08-01T15:17:33.177Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":17754,"end":17772},{"type":"TextQuoteSelector","exact":"Relational Algebra","prefix":" of Database Systems, Xu Lizhen ","suffix":"◼ Basic operations:➢ Selection ("}]}]}
>```
>%%
>*%%PREFIX%%of Database Systems, Xu Lizhen%%HIGHLIGHT%% ==Relational Algebra== %%POSTFIX%%◼ Basic operations:➢ Selection (*
>%%LINK%%[[#^hitjla697bk|show annotation]]
>%%COMMENT%%
>关系代数
>
>- 选择操作σ
>- 投影操作π
>- 集合操作-
>- 连接操作∪
>- 笛卡尔积X
>%%TAGS%%
>
^hitjla697bk


>%%
>```annotation-json
>{"created":"2024-08-01T15:25:44.778Z","text":"找到比名字为 张三（Horatio）的水手级别更高的水手\n\n- 名字叫张三的水手可能不止一个；\n- 找到名字叫张三的水手；\n- 再找比任意一个张三的级别都要高的水手；\n\n[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)","updated":"2024-08-01T15:25:44.778Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":43798,"end":43875},{"type":"TextQuoteSelector","exact":"Find sailors whose rating is greater than that of some sailor called Horatio:","prefix":"NY, op ALL,  op IN <,>,=,≤,≥,≠ ","suffix":"SELECT *FROM Sailors SWHERE S.ra"}]}]}
>```
>%%
>*%%PREFIX%%NY, op ALL,  op IN <,>,=,≤,≥,≠%%HIGHLIGHT%% ==Find sailors whose rating is greater than that of some sailor called Horatio:== %%POSTFIX%%SELECT *FROM Sailors SWHERE S.ra*
>%%LINK%%[[#^63r05bhqhxx|show annotation]]
>%%COMMENT%%
>找到比名字为 张三（Horatio）的水手级别更高的水手
>
>- 名字叫张三的水手可能不止一个；
>- 找到名字叫张三的水手；
>- 再找比任意一个张三的级别都要高的水手；
>
>[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)
>%%TAGS%%
>
^63r05bhqhxx


>%%
>```annotation-json
>{"created":"2024-08-01T15:01:33.076Z","text":"查找只有一个水手预定过的船：\n\n- 一个水手定的船不在其他水手定的船的列表里\n- 这个水手所定的船的编号，不在其他水手所定的船的编号的集合里面\n\n[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)","updated":"2024-08-01T15:01:33.076Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":43427,"end":43483},{"type":"TextQuoteSelector","exact":"Find IDs of boats which are reserved by only one sailor.","prefix":"ested Queries with Correlation ","suffix":"SELECT bidFROM Reserves R1WHERE "}]}]}
>```
>%%
>*%%PREFIX%%ested Queries with Correlation%%HIGHLIGHT%% ==Find IDs of boats which are reserved by only one sailor.== %%POSTFIX%%SELECT bidFROM Reserves R1WHERE*
>%%LINK%%[[#^oczafuv043b|show annotation]]
>%%COMMENT%%
>查找只有一个水手预定过的船：
>
>- 一个水手定的船不在其他水手定的船的列表里
>- 这个水手所定的船的编号，不在其他水手所定的船的编号的集合里面
>
>[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)
>%%TAGS%%
>
^oczafuv043b


>%%
>```annotation-json
>{"created":"2024-08-01T15:45:20.495Z","text":"查找同时预定了红船和绿船的水手，使用 IN：\n\n- 外层查出所有预定了红船的水手；\n- 内层查出所有预定了绿船的水手；\n- 判断预定了红船的水手编号，在不在预定了绿船的水手编号集合里，如果在，则说明符合条件。","updated":"2024-08-01T15:45:20.495Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":44266,"end":44332},{"type":"TextQuoteSelector","exact":"Find sid’s of sailors who’ve reserved both a red and a green boat:","prefix":".  (What about INTERSECT query?)","suffix":"SELECT S.sidFROM Sailors S, Boat"}]}]}
>```
>%%
>*%%PREFIX%%.  (What about INTERSECT query?)%%HIGHLIGHT%% ==Find sid’s of sailors who’ve reserved both a red and a green boat:== %%POSTFIX%%SELECT S.sidFROM Sailors S, Boat*
>%%LINK%%[[#^h5lnbs5hbbp|show annotation]]
>%%COMMENT%%
>查找同时预定了红船和绿船的水手，使用 IN：
>
>- 外层查出所有预定了红船的水手；
>- 内层查出所有预定了绿船的水手；
>- 判断预定了红船的水手编号，在不在预定了绿船的水手编号集合里，如果在，则说明符合条件。
>%%TAGS%%
>
^h5lnbs5hbbp


>%%
>```annotation-json
>{"created":"2024-08-01T15:49:23.586Z","text":"查找预定了所有船的水手：\n\n- 使用否定之否定，如果没有一条船是我没定过的，那么我就定了所有船：\n  - 查找水手\n  - 查找所有的船\n  - 查找这个水手定了哪些船？\n\n用所有的船减去水手定了的船，就是水手没有预定过的船，如过水手没有预定过的船不存在，那么他就定了所有的船\n\n[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)","updated":"2024-08-01T15:49:23.586Z","document":{"title":"数据库系统及其应用","link":[{"href":"urn:x-pdf:34c9b07b3e23764b823df232eb42f1be"},{"href":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf"}],"documentFingerprint":"34c9b07b3e23764b823df232eb42f1be"},"uri":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","target":[{"source":"vault:/PDF/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B%E8%AF%BE%E4%BB%B6.pdf","selector":[{"type":"TextPositionSelector","start":44761,"end":44793},{"type":"TextQuoteSelector","exact":"ailors who’ve reserved all boats","prefix":"rves RWHERE  R.sid=S.sid))Find s","suffix":".1Principles of Database Systems"}]}]}
>```
>%%
>*%%PREFIX%%rves RWHERE  R.sid=S.sid))Find s%%HIGHLIGHT%% ==ailors who’ve reserved all boats== %%POSTFIX%%.1Principles of Database Systems*
>%%LINK%%[[#^d5cu18yjdy6|show annotation]]
>%%COMMENT%%
>查找预定了所有船的水手：
>
>- 使用否定之否定，如果没有一条船是我没定过的，那么我就定了所有船：
>  - 查找水手
>  - 查找所有的船
>  - 查找这个水手定了哪些船？
>
>用所有的船减去水手定了的船，就是水手没有预定过的船，如过水手没有预定过的船不存在，那么他就定了所有的船
>
>[参考资料](https://www.bilibili.com/video/BV1ux411G7Bs?p=19&vd_source=081641abeed94aff322f0473e2c1773d)
>%%TAGS%%
>
^d5cu18yjdy6
