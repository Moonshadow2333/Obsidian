---
alias: 
date:
---

# 目录

```dataviewjs
const startHeadinglevel = 2;
const file = app.workspace.getActiveFile();
const { headings } = app.metadataCache.getFileCache(file);
 
// 全列表的形式
const raws = headings.filter(row => row.heading != "目录").map( p => {
    let repeatCount = Math.max((p.level - startHeadinglevel) * 4, 0);
    let spacesPrefix = ' '.repeat( repeatCount + 4 );
    let listSign = repeatCount > 0 ? '- ' : '';
    let linkText = `[[#${p.heading}]]`;
    let headingList = (p.level < startHeadinglevel) ? `- ${linkText}` : `${spacesPrefix}- ${linkText}`;
    return headingList;
  }
)
 
let result = raws.join('\n');
// 添加行距
dv.container.style.lineHeight = "1.5em";
dv.paragraph(result)
```

# 参考代码

```js
<script setup>
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'

const router = useRouter()
const formRef = ref(null)

// 提交表单
const submitForm = async () => {
  try {
    await formRef.value.validate()
    
    // 验证通过后跳转
    ElMessage.success('验证成功，正在跳转...')
    
    // 延迟 1 秒跳转（可选）
    setTimeout(() => {
      router.push('/home') // 跳转到指定路由
    }, 1000)

  } catch (error) {
    ElMessage.error('验证失败')
  }
}
</script>
```