

> [!info] 参考资料
> - [Process Interaction — SimPy 4.1.1 documentation](https://simpy.readthedocs.io/en/latest/simpy_intro/process_interaction.html)
> - [Python SimPy 仿真系列 (1) - 简书 (jianshu.com)](https://www.jianshu.com/p/58be9567829c)
> - [Python SimPy 仿真系列 (2) - 简书 (jianshu.com)](https://www.jianshu.com/p/829f11deacef)
> - [[Pyhton] SimPy 离散事件模拟框架详解 —— 以一个简单的汽车充电排队模拟为例 - beautifulzzzz - 博客园 (cnblogs.com)](https://www.cnblogs.com/zjutlitao/p/16846050.html) 
> - [python离散事件仿真库SimPy官方教程-CSDN博客](https://blog.csdn.net/weixin_45526117/article/details/125603777)
> - [生成器 - Python教程 - 廖雪峰的官方网站 (liaoxuefeng.com)](https://liaoxuefeng.com/books/python/advanced/generator/)
> - [python中yield的用法详解——最简单，最清晰的解释_yield python-CSDN博客](https://blog.csdn.net/mieleizhi0522/article/details/82142856)
> - [彻底理解Python中的yield - Ellisonzhang - 博客园 (cnblogs.com)](https://www.cnblogs.com/ellisonzhang/p/10273843.html#:~:text=%E7%AE%80%E8%A6%81%E7%90%86%E8%A7%A3%EF%BC%9Ayield%E5%B0%B1%E6%98%AF%20return%20%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%80%BC%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%AE%B0%E4%BD%8F%E8%BF%99%E4%B8%AA%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E4%B8%8B%E6%AC%A1%E8%BF%AD%E4%BB%A3%E5%B0%B1%E4%BB%8E%E8%BF%99%E4%B8%AA%E4%BD%8D%E7%BD%AE%E5%90%8E%E5%BC%80%E5%A7%8B%E3%80%82,%E5%B8%A6%E6%9C%89yield%E7%9A%84%E5%87%BD%E6%95%B0%E4%B8%8D%E4%BB%85%E4%BB%85%E5%8F%AA%E7%94%A8%E4%BA%8Efor%E5%BE%AA%E7%8E%AF%E4%B8%AD%EF%BC%8C%E8%80%8C%E4%B8%94%E5%8F%AF%E7%94%A8%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E5%8F%AA%E8%A6%81%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E5%85%81%E8%AE%B8%E8%BF%AD%E4%BB%A3%E5%8F%82%E6%95%B0%E3%80%82%20%E6%AF%94%E5%A6%82array.extend%E5%87%BD%E6%95%B0%EF%BC%8C%E5%AE%83%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%98%AFarray.extend%20%28iterable%29%E3%80%82)
> - [Why is the event.triggerd is False after event.succeed(value="hoge")? (#139) · 议题 · team-simpy / simpy · GitLab](https://gitlab.com/team-simpy/simpy/-/issues/139)
> - [Simpy离散事件仿真（2）——基本概念 - 代码先锋网 (codeleading.com)](https://www.codeleading.com/article/41793248673/#:~:text=%E5%BD%93%E8%BF%9B%E7%A8%8B%E7%94%9F%E6%88%90%E4%BA%8B%E4%BB%B6%E6%97%B6%EF%BC%8C%E8%AF%A5)
> - [如何确定同时发生的SimPy事件的优先级？-腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/ask/sof/115955063)
> - [SimPy — Zeka's Blog (zhekaili.github.io)  Example: Guitar Factory](https://zhekaili.github.io/wiki/python-libs/python-lib-SimPy/)
> - [Pyplot 教程_Matplotlib 中文网](https://matplotlib.net/stable/tutorials/introductory/pyplot.html)
> - [Python SimPy 仿真系列 (2) - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/32005127?from_voters_page=true)
> - [离散事件仿真库SimPy的执行逻辑介绍 (mfbz.cn)](http://www.mfbz.cn/a/247494.html#:~:text=%E7%A6%BB%E6%95%A3%E4%BA%8B%E4%BB%B6%E4%BB%BF%E7%9C%9F%E5%BA%93S)
> - [指数分布简介 - Statorials](https://statorials.org/cn/%E6%8C%87%E6%95%B0%E5%88%86%E5%B8%83/#:~:text=%E6%8C%87%E6%95%B0%E5%88%86%E5%B8%83%E6%98%AF%E4%B8%80%E7%A7%8D%E6%A6%82)
> - [泊松分布和指数分布：10分钟教程 - 阮一峰的网络日志 (ruanyifeng.com)](https://www.ruanyifeng.com/blog/2015/06/poisson-distribution.html#:~:text=%E8%BF%99%E7%AF%87%E8%AE%B2%E7%9A%84%E6%B5%85%E6%98%BE%E6%98%93%E6%87%82)
> - [理解Python协程:从yield/send到yield from再到async/await - 风声风语 - 博客园 (cnblogs.com)](https://www.cnblogs.com/zhaohuanhuan/p/10489759.html)|very important
> - [深入理解Python 中的 yield from语法 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/267966140#:~:text=%E5%BD%93%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%BB%93%E6%9D%9F)
> - [Python yield from 用法详解 - 简书 (jianshu.com)](https://www.jianshu.com/p/87da832730f5)

生成器函数和普通函数区别在于 yield 可以暂时停止进程，再次调用时会从中断位置开始，而函数每次调用都是从头开始，使用 generator 就能模仿离散事件，实现事件调度与进程交互

当进程生成事件时，该进程将被挂起。当事件发生时（事件已触发），SimPy恢复进程。多个进程可以等待同一事件。SimPy按照生成事件的统一顺序进行恢复。

---

上面生成器函数中最关键也是最易理解错的，就是receive=yield value这句,如果对循环体的执行步骤理解错误，就会失之毫厘，差之千里。 

其实receive=yield value包含了3个步骤： 

1、向函数外抛出（返回）value 

2、暂停(pause)，等待next()或send()恢复 

3、赋值receive=MockGetValue() 。 这个MockGetValue()是假想函数，用来接收send()发送进来的值

```
\o\/ at 0
\o\/ at 0
\o\/ at 0
#
Called back from <Event() object at 0x13fea73bb00>
\o\/ at 45
\o\/ at 45
\o\/ at 45
#
Called back from <Event() object at 0x13feac32810>
Called back from <Process(bell) object at 0x13feac33620>
Called back from <Process(puil) object at 0x13fea60ca40>
Called back from <Process(puil) object at 0x13fea60cad0>
Called back from <Process(puil) object at 0x13feac335c0>
(0, 0, <class 'simpy.events.Initialize'>, <Initialize() object at 0x13fea60fb30>)
(0, 1, <class 'simpy.events.Initialize'>, <Initialize() object at 0x13feac33170>)
(0, 2, <class 'simpy.events.Initialize'>, <Initialize() object at 0x13feac335f0>)
(0, 3, <class 'simpy.events.Initialize'>, <Initialize() object at 0x13feac332f0>)
(45, 4, <class 'simpy.events.Timeout'>, <Timeout(45) object at 0x13feac328d0>)
(45, 5, <class 'simpy.events.Event'>, <Event() object at 0x13fea73bb00>)
(90, 6, <class 'simpy.events.Timeout'>, <Timeout(45) object at 0x13feac328a0>)
(90, 7, <class 'simpy.events.Event'>, <Event() object at 0x13feac32810>)
(90, 8, <class 'simpy.events.Process'>, <Process(bell) object at 0x13feac33620>)
(90, 9, <class 'simpy.events.Process'>, <Process(puil) object at 0x13fea60ca40>)
(90, 10, <class 'simpy.events.Process'>, <Process(puil) object at 0x13fea60cad0>)
(90, 11, <class 'simpy.events.Process'>, <Process(puil) object at 0x13feac335c0>)
```