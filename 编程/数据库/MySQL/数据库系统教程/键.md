---
aliases:
  - 超键
  - 候选键
date: 2025-06-13
---

# 目录

```dataviewjs
const startHeadinglevel = 2;
const file = app.workspace.getActiveFile();
const { headings } = app.metadataCache.getFileCache(file);
 
// 全列表的形式
const raws = headings.filter(row => row.heading != "目录").map( p => {
    let repeatCount = Math.max((p.level - startHeadinglevel) * 4, 0);
    let spacesPrefix = ' '.repeat( repeatCount + 4 );
    let listSign = repeatCount > 0 ? '- ' : '';
    let linkText = `[[#${p.heading}]]`;
    let headingList = (p.level < startHeadinglevel) ? `- ${linkText}` : `${spacesPrefix}- ${linkText}`;
    return headingList;
  }
)
 
let result = raws.join('\n');
// 添加行距
dv.container.style.lineHeight = "1.5em";
dv.paragraph(result)
```



---

### 候选键与超键的关联与差异解析

#### **一、核心关联**
1. **共同本质**  
   两者均为能**唯一确定一条记录**的属性集合，确保关系模型中不存在重复元组。  
   *示例*：在学生表中，`学号`和`学号+姓名`均可唯一标识学生，都属于超键。

2. **包含关系**  
   **候选键是超键的极小子集**。所有候选键都属于超键，但超键不一定是候选键。  
   *公式表达*：候选键 ⊂ 超键  
   *示意图*：  
   ```  
   超键集合 = {所有候选键, 候选键+任意属性, 其他满足唯一性的组合}  
   ```

---

#### **二、关键差异**  

| **维度**        | **候选键 (Candidate Key)**                     | **超键 (Super Key)**                     |
|-----------------|-----------------------------------------------|-------------------------------------------|
| **属性极简性**  | **无冗余属性**（删除任意属性则失去唯一性）      | **可含冗余属性**（即使删除部分属性仍唯一） |
| **数量关系**    | 每个表至少1个，可能多个（如学生表的学号和身份证号） | 无限多（可通过添加冗余属性生成新超键）    |
| **实际应用**    | 被选为主键的候选，用于建立表间关系              | 理论概念，常用于推导候选键或设计索引       |

---

#### **三、典型示例验证**
1. **学生表 (Students)**  
   - 属性：`Sno`（学号）, `Sname`（姓名）, `ID`（身份证号）  
   - **候选键**：`Sno`、`ID`（均满足唯一性且无冗余）  
   - **超键**：  
     ✅ `Sno`（候选键）  
     ✅ `ID`（候选键）  
     ✅ `Sno + Sname`（冗余，但唯一）  
     ✅ `ID + Sname`（冗余，但唯一）  

2. **订单表 (Orders)**  
   - 属性：`OrderID`（订单号）, `CustomerID`（客户ID）, `ProductID`（商品ID）  
   - **候选键**：`OrderID`（若订单号全局唯一）  
   - **超键**：  
     ✅ `OrderID`（候选键）  
     ✅ `OrderID + CustomerID`（冗余，但唯一）  
     ✅ `CustomerID + ProductID + Time`（若客户在不同时间不会重复购买同一商品）  

---

#### **四、实践意义**
1. **数据库设计阶段**  
   - **候选键筛选**：从所有超键中剔除冗余属性，找到最简唯一标识符  
   - **主键选择**：根据业务需求（如查询频率、长度、稳定性）从候选键中选定主键  

2. **查询优化场景**  
   - 超键组合（如`学号+手机号`）可作为复合索引，加速特定查询  
   - 冗余超键可能因业务变化失去唯一性（如`出生地+生日+姓名`可能存在重复）  

---

#### **五、常见误区澄清**
1. **错误认知**：主键一定是一个候选键 → **正确**：主键必须是候选键之一  
2. **极端情况**：若所有属性构成候选键 → 此时超键仅一个（即该候选键自身）  

---

### **总结**  
候选键与超键的本质差异在于**是否允许冗余属性**。候选键承担主键候选角色，而超键提供理论支持，帮助设计可靠的数据模型。理解两者的关系可避免设计冗余表结构，确保数据库范式（如BCNF）的正确应用。